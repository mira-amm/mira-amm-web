layout {
    default_tab_template {
        pane {
            size 1
            borderless true
            plugin location="zellij:tab-bar"
        }
        children
        pane {
            size 2
            borderless true
            plugin location="zellij:status-bar"
        }
    }
    tab name="ğŸ§® SERVERS" split_direction="vertical" {
            pane {
                name "ğŸ¿ Admin | 8000 | admin.mira.ly"
                command "pnpm"
                args "nx" "dev" "admin"
            }
            pane {
            split_direction "horizontal"
                 /- pane {
                    name "ğŸ”¬ Microscope"
                    command "pnpm"
                    args "nx" "dev" "microscope"
                }
            pane {
                name "ğŸ•¹ Microgame | 4200 | microgame.mira.ly"
                command "pnpm"
                args "nx" "dev" "microgame"
            }
            pane {
                name "ğŸ¦• Web App | 3000 | mira.ly"
                command "pnpm"
                args "nx" "dev" "web"
                start_suspended true
            }
            }

            pane split_direction="horizontal" {
                pane {
                    command "pnpm"
                    name "ğŸ§© Core API | 8080 | api.mira.ly"
                    args "nx" "dev" "api"
                    start_suspended true
                }
            pane split_direction="vertical" {
                pane {
                    command "pnpm"
                    name "ğŸ¨ Storybook | 6006 | design.mira.ly"
                    args "storybook"
                    start_suspended true
                }
                pane {
                    name "ğŸ“š Docs | 4000 | docs.mira.ly"
                    command "pnpm"
                    args "nx" "dev" "docs"
                    start_suspended true
                }
              }

            pane split_direction="vertical" {
                pane {
                    name "ğŸ—º Project Graph - Nx | 4211 | graph.mira.ly"
                    focus true
                    command "pnpm"
                    args "nx" "graph" "--view=projects" "--affected"
                    start_suspended true
                }
                pane {
                    command "pnpm"
                    name "ğŸ› Architecture | 5173 | arch.mira.ly"
                    args "nx" "dev" "arch"
                    start_suspended true
                }
                }
            pane split_direction="vertical" {
                pane {
                    name "ğŸ“Š Drizzle Studio | local.drizzle.studio + ğŸ‘€ Schema Visualizer | 5600"
                    command "pnpm"
                    args "nx" "view" "db"
                    start_suspended true
                }
                pane {
                    name "ğŸ“¦ Node Modules Inspector | 7000"
                    command "pnpm"
                    args "node-modules-inspector" "--depth=7" "--port=7000"
                    start_suspended true
                }
            }
            }

        floating_panes {
            pane {
                name "ğŸ©º System Health - btop"
                command "btop"
            }
        }
    }

    tab name="ğŸŸ© STATUS" split_direction="vertical"  {
            pane {
                name "ğŸ’ Git - Lazygit"
                command "lazygit"
            }

            pane split_direction="horizontal" {
                pane {
                    name "ğŸ“ File Browser - Yazi"
                    command "env"
                    args "YAZI_CONFIG_HOME=./apps/microvisor" "yazi"
                }

                pane {
                    focus true
                    name "ğŸ§  TGPT | Model:phind"
                    command "tgpt"
                    args "-m"
                }
            }
    }

    tab name="ğŸ”ğŸ¤¨ INSPECT" split_direction="vertical" {
        pane {
            name "ğŸ”Œ API"
            command "pnpm"
            args "nx" "posting" "api"
        }
        pane {
            name "ğŸ’¿ DATABASE"
            command "lazysql"
            args "postgresql://postgres:postgres@127.0.0.1:54322/postgres?sslmode=disable"
            // args "./libs/db/sqlite.db"
        }
    }
    tab name="ğŸ§ª TESTING" split_direction="vertical" {
            pane split_direction="vertical" {
              pane {
                  name "ğŸ­ Web | E2E(ui)"
                  command "pnpm"
                  args "nx" "e2e" "web-e2e" "--ui"
                  start_suspended true
              }
              pane {
                  name "ğŸ§© Core API | Unit"
                  command "pnpm"
                  args "nx" "test" "api"
                  start_suspended true
              }
            }
            pane split_direction="horizontal" {
                size "30%"
            pane {
                name "ğŸ’Š Microdoctor"
                command "pnpm"
                args "nx" "check" "microdoctor"
                start_suspended true
            }
            }
    }
    tab name="â˜ DEPLOYMENTS" split_direction="vertical" {
            pane {
                name "ğŸ”º Vercel"
                command "pnpm"
                args "nx" "dev" "platform-vercel"
                start_suspended true
            }
    }
    tab name="ğŸ³ CONTAINERS" split_direction="vertical" {
            pane {
                command "lazydocker"
            }
    }
}
